SQL
-- Create database user seis752 account with password: seis752
-- to remote user use command below without --
-- drop user seis752 cascade;
create user seis752 identified by seis752
       temporary tablespace temp 
       default tablespace users
       quota unlimited on users;
grant connect, resource to seis752; 
grant create sequence, create view, query rewrite to seis752;

-- Generated by Oracle SQL Developer Data Modeler 3.0.0.665
--   at:        2012-05-03 21:23:36 CDT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



DROP TABLE Applies CASCADE CONSTRAINTS 
;
DROP TABLE Contributor CASCADE CONSTRAINTS 
;
DROP TABLE Grade CASCADE CONSTRAINTS 
;
DROP TABLE Relates CASCADE CONSTRAINTS 
;
DROP TABLE Ressource CASCADE CONSTRAINTS 
;
DROP TABLE Subject CASCADE CONSTRAINTS 
;
DROP TABLE Type CASCADE CONSTRAINTS 
;

DROP SEQUENCE Contributor_S
;
DROP SEQUENCE Grade_S
;
DROP SEQUENCE FILE_S
;
DROP SEQUENCE RESSOURCE_S
;
DROP SEQUENCE Subject_S
;
DROP SEQUENCE Type_S
;






CREATE TABLE Applies 
    ( 
     Ressource_id NUMBER (6)  NOT NULL , 
     Grade_id NUMBER (6)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE Applies 
    ADD CONSTRAINT Applies__IDX PRIMARY KEY ( Ressource_id, Grade_id ) ;


CREATE TABLE Contributor 
    ( 
     email VARCHAR2 (50) , 
     last_login_date DATE , 
     id NUMBER (6)  NOT NULL , 
     id1 NUMBER (6)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE Contributor 
    ADD CONSTRAINT Contributor_PK PRIMARY KEY ( id, id1 ) ;


CREATE TABLE Grade 
    ( 
     grade VARCHAR2 (10) , 
     id NUMBER (6)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE Grade 
    ADD CONSTRAINT Grade_PK PRIMARY KEY ( id ) ;


CREATE TABLE Relates 
    ( 
     Ressource_id NUMBER (6)  NOT NULL , 
     Subject_id NUMBER (6)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE Relates 
    ADD CONSTRAINT Relates__IDX PRIMARY KEY ( Ressource_id, Subject_id ) ;


CREATE TABLE Ressource 
    ( 
     Title VARCHAR2 (50) , 
     Description VARCHAR2 (300) , 
     Date_Created DATE , 
     Location VARCHAR2 (400) , 
     Icon VARCHAR2 (500) , 
     FILE_TYPE VARCHAR2 (4) , 
     FILE_ID NUMBER (6) , 
     id NUMBER (6)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE Ressource 
    ADD CONSTRAINT Ressource_PK PRIMARY KEY ( id ) ;


CREATE TABLE Subject 
    ( 
     name VARCHAR2 (100) , 
     id NUMBER (6)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE Subject 
    ADD CONSTRAINT Subject_PK PRIMARY KEY ( id ) ;


CREATE TABLE Type 
    ( 
     type VARCHAR2 (25) , 
     id NUMBER (6) , 
     id1 NUMBER (6) 
    ) LOGGING 
;





ALTER TABLE Contributor 
    ADD CONSTRAINT Creates FOREIGN KEY 
    ( 
     id1
    ) 
    REFERENCES Ressource 
    ( 
     id
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE Applies 
    ADD CONSTRAINT FK_ASS_2 FOREIGN KEY 
    ( 
     Ressource_id
    ) 
    REFERENCES Ressource 
    ( 
     id
    ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;


ALTER TABLE Applies 
    ADD CONSTRAINT FK_ASS_3 FOREIGN KEY 
    ( 
     Grade_id
    ) 
    REFERENCES Grade 
    ( 
     id
    ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;


ALTER TABLE Relates 
    ADD CONSTRAINT FK_ASS_4 FOREIGN KEY 
    ( 
     Ressource_id
    ) 
    REFERENCES Ressource 
    ( 
     id
    ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;


ALTER TABLE Relates 
    ADD CONSTRAINT FK_ASS_5 FOREIGN KEY 
    ( 
     Subject_id
    ) 
    REFERENCES Subject 
    ( 
     id
    ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;


ALTER TABLE Type 
    ADD CONSTRAINT describes FOREIGN KEY 
    ( 
     id1
    ) 
    REFERENCES Ressource 
    ( 
     id
    ) 
    ON DELETE SET NULL 
    NOT DEFERRABLE 
;

CREATE SEQUENCE Contributor_S
    START WITH 1 
    MAXVALUE 999999999999999999999999999 
    MINVALUE 1 
    CACHE 20 
;

CREATE SEQUENCE FILE_S 
    START WITH 1 
    MAXVALUE 999999999999999999999999999 
    MINVALUE 1 
    CACHE 20 
;

CREATE SEQUENCE Grade_S
    START WITH 1 
    MAXVALUE 999999999999999999999999999 
    MINVALUE 1 
    CACHE 20 
;

CREATE SEQUENCE RESSOURCE_S 
    START WITH 1 
    MAXVALUE 999999999999999999999999999 
    MINVALUE 1 
    CACHE 20 
;

CREATE SEQUENCE Subject_S 
    START WITH 1 
    MAXVALUE 999999999999999999999999999 
    MINVALUE 1 
    CACHE 20 
;

CREATE SEQUENCE Type_S 
    START WITH 1 
    MAXVALUE 999999999999999999999999999 
    MINVALUE 1 
    CACHE 20 
;










-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             7
-- CREATE INDEX                             0
-- ALTER TABLE                             12
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- CREATE STRUCTURED TYPE                   0
-- CREATE COLLECTION TYPE                   0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          6
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0

1. Download jars under WEB-INF/lib
	commons-fileupload-1.2.2
	commons-fileupload-1.2
	commons-is-1.3.1
	commons-lang-2.1
2. Add commons-fileupload-1.2.2.jar under Java Build Path -. Libraries
3. update WebContent/db.properties to point to your DB instance
   see your configuration in JAP Content/persistence.xml
	Note: leave the following properties with default 
		seis752.dir=out
		seis752.error=error.log
4. Create Folder c:\\apps\\seis752\\vault\\folder1 for file upload


